\hypertarget{util_8c}{\section{src/util.c \-File \-Reference}
\label{util_8c}\index{src/util.\-c@{src/util.\-c}}
}


utility functions  


{\ttfamily \#include $<$stdlib.\-h$>$}\*
{\ttfamily \#include $<$string.\-h$>$}\*
{\ttfamily \#include $<$unistd.\-h$>$}\*
{\ttfamily \#include $<$sys/stat.\-h$>$}\*
{\ttfamily \#include $<$sys/types.\-h$>$}\*
{\ttfamily \#include $<$sys/time.\-h$>$}\*
{\ttfamily \#include $<$time.\-h$>$}\*
{\ttfamily \#include $<$math.\-h$>$}\*
{\ttfamily \#include $<$stdio.\-h$>$}\*
\subsection*{\-Defines}
\begin{DoxyCompactItemize}
\item 
\hypertarget{util_8c_ae71354ac9b6f7f2c808940036e7f30b7}{\#define {\bfseries \-U\-T\-I\-L\-\_\-\-C}}\label{util_8c_ae71354ac9b6f7f2c808940036e7f30b7}

\item 
\hypertarget{util_8c_a28ec5a2ef0333a4c9a255a3ac079c001}{\#define {\bfseries \-B\-A\-S\-E64\-\_\-\-C\-H\-A\-R\-S}~\char`\"{}\-A\-B\-C\-D\-E\-F\-G\-H\-I\-J\-K\-L\-M\-N\-O\-P\-Q\-R\-S\-T\-U\-V\-W\-X\-Y\-Zabcdefghijklmnopqrstuvwxyz0123456789+/\char`\"{}}\label{util_8c_a28ec5a2ef0333a4c9a255a3ac079c001}

\item 
\hypertarget{util_8c_a61e207056771b2f0cf4d48159d163def}{\#define {\bfseries \-T\-Z}~\char`\"{}\%z\char`\"{}}\label{util_8c_a61e207056771b2f0cf4d48159d163def}

\item 
\#define {\bfseries \-D\-O\-\_\-\-A\-S\-\_\-\-C\-A\-L\-L\-E\-R}(action)
\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{util_8c_a11bd144d7d44914099a3aeddf1c8567d}{int {\bfseries strcmp} (const char $\ast$s1, const char $\ast$s2)}\label{util_8c_a11bd144d7d44914099a3aeddf1c8567d}

\item 
\hypertarget{util_8c_a73ce5cc4cbf435f763393006e53e4530}{int {\bfseries touch} (char $\ast$path, char $\ast$str)}\label{util_8c_a73ce5cc4cbf435f763393006e53e4530}

\item 
char $\ast$ \hyperlink{util_8c_ac89e3426b68975922920ac2502257999}{base64} (const unsigned char $\ast$str, int n)
\begin{DoxyCompactList}\small\item\em convert the input to base64 \end{DoxyCompactList}\item 
\hypertarget{util_8c_afc47fc1477875c66eb440867da1c3cdf}{int $\ast$ {\bfseries get\-\_\-command\-\_\-line\-\_\-size} ()}\label{util_8c_afc47fc1477875c66eb440867da1c3cdf}

\item 
static char $\ast$ \hyperlink{util_8c_ad0e8a9673662b67246c1af0ce7e7b06c}{get\-\_\-command\-\_\-line} (int pid)
\begin{DoxyCompactList}\small\item\em get the command line corresponding to a process \end{DoxyCompactList}\item 
\hypertarget{util_8c_a265aa3e869978b1f5fee5a34aa183d8b}{void {\bfseries set\-\_\-msec} (char $\ast$timestamp, suseconds\-\_\-t msec)}\label{util_8c_a265aa3e869978b1f5fee5a34aa183d8b}

\item 
void \hyperlink{util_8c_a9cc3c9ae892455a66de3012f5b6fb8e0}{set\-\_\-timestamp} (char $\ast$timestamp)
\begin{DoxyCompactList}\small\item\em get a string representing the time in \-I\-S\-O8601 format \end{DoxyCompactList}\item 
int \hyperlink{util_8c_adb849059403e0b01c44605d63d205daa}{get\-\_\-limit} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em look for the limit \char`\"{}-\/-\/\char`\"{} in argv  argument number  arguments \end{DoxyCompactList}\item 
\hypertarget{util_8c_ad16fa3fb65df7353e0eecd8964ed23fd}{char $\ast$ \hyperlink{util_8c_ad16fa3fb65df7353e0eecd8964ed23fd}{array\-\_\-to\-\_\-container\-\_\-string} (char $\ast$$\ast$array, size\-\_\-t n, char open\-\_\-char, char close\-\_\-char, char sep1, char sep2)}\label{util_8c_ad16fa3fb65df7353e0eecd8964ed23fd}

\begin{DoxyCompactList}\small\item\em get a concatenated string from an array of string \end{DoxyCompactList}\item 
\hypertarget{util_8c_a264672f6b940a364bce6bb792707d84a}{int $\ast$ {\bfseries falloc\-\_\-fails} ()}\label{util_8c_a264672f6b940a364bce6bb792707d84a}

\item 
\hypertarget{util_8c_ab8e140e265a8a8b86543827826aaecb8}{int $\ast$ {\bfseries fcalloc\-\_\-fails} ()}\label{util_8c_ab8e140e265a8a8b86543827826aaecb8}

\item 
\hypertarget{util_8c_a4bff3c0ac1560224651714eeee8c7b9a}{void $\ast$ {\bfseries fmalloc} (size\-\_\-t size)}\label{util_8c_a4bff3c0ac1560224651714eeee8c7b9a}

\item 
\hypertarget{util_8c_acacab6096f97eb328af0ad12a6e9ff6f}{void $\ast$ {\bfseries fcalloc} (size\-\_\-t nmemb, size\-\_\-t size)}\label{util_8c_acacab6096f97eb328af0ad12a6e9ff6f}

\item 
\hypertarget{util_8c_a254cadff829d59e06bf85fffaa41799d}{void $\ast$ {\bfseries frealloc} (void $\ast$ptr, size\-\_\-t size)}\label{util_8c_a254cadff829d59e06bf85fffaa41799d}

\item 
\hypertarget{util_8c_a897d860e91288b12319e16aec82cf4b1}{char $\ast$ {\bfseries integer\-\_\-concat} (char $\ast$prefix, int i, char $\ast$suffix)}\label{util_8c_a897d860e91288b12319e16aec82cf4b1}

\item 
char $\ast$ \hyperlink{util_8c_a595bb2010e077b76450c9c04e2b25e16}{concat} (char $\ast$a, char $\ast$b)
\item 
\hypertarget{util_8c_ad90feff5ba4ef7c3fbbc8ce001ab0e1c}{int $\ast$ {\bfseries fk\-\_\-sleep\-\_\-return\-\_\-value} ()}\label{util_8c_ad90feff5ba4ef7c3fbbc8ce001ab0e1c}

\item 
\hypertarget{util_8c_a7b32ae92cbc167cab4a12bc4babffad7}{int $\ast$ {\bfseries fk\-\_\-sleep\-\_\-enabled} ()}\label{util_8c_a7b32ae92cbc167cab4a12bc4babffad7}

\item 
\hypertarget{util_8c_a8a7724d430eac361ba7bf823fdd92868}{int {\bfseries fk\-\_\-sleep} (int n)}\label{util_8c_a8a7724d430eac361ba7bf823fdd92868}

\item 
\hypertarget{util_8c_a1b718cc743329e813dee2ecce723e209}{static void {\bfseries mkdir\-\_\-p} (const char $\ast$dir)}\label{util_8c_a1b718cc743329e813dee2ecce723e209}

\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
utility functions 

\-Definition in file \hyperlink{util_8c_source}{util.\-c}.



\subsection{\-Define \-Documentation}
\hypertarget{util_8c_a98e007fff26482fe9dbd783a71eed117}{\index{util.\-c@{util.\-c}!\-D\-O\-\_\-\-A\-S\-\_\-\-C\-A\-L\-L\-E\-R@{\-D\-O\-\_\-\-A\-S\-\_\-\-C\-A\-L\-L\-E\-R}}
\index{\-D\-O\-\_\-\-A\-S\-\_\-\-C\-A\-L\-L\-E\-R@{\-D\-O\-\_\-\-A\-S\-\_\-\-C\-A\-L\-L\-E\-R}!util.c@{util.\-c}}
\subsubsection[{\-D\-O\-\_\-\-A\-S\-\_\-\-C\-A\-L\-L\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define \-D\-O\-\_\-\-A\-S\-\_\-\-C\-A\-L\-L\-E\-R(
\begin{DoxyParamCaption}
\item[{}]{action}
\end{DoxyParamCaption}
)}}\label{util_8c_a98e007fff26482fe9dbd783a71eed117}
{\bfseries \-Value\-:}
\begin{DoxyCode}
struct fuse_context* __context = fuse_get_context(); \
    gid_t __gid = getegid(); \
    uid_t __uid = geteuid(); \
    setegid(__context->gid); \
    seteuid(__context->uid); \
    action \
    seteuid(__uid); \
    setegid(__gid);
\end{DoxyCode}


\-Definition at line 327 of file util.\-c.



\subsection{\-Function \-Documentation}
\hypertarget{util_8c_ac89e3426b68975922920ac2502257999}{\index{util.\-c@{util.\-c}!base64@{base64}}
\index{base64@{base64}!util.c@{util.\-c}}
\subsubsection[{base64}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ {\bf base64} (
\begin{DoxyParamCaption}
\item[{const unsigned char $\ast$}]{str, }
\item[{int}]{n}
\end{DoxyParamCaption}
)}}\label{util_8c_ac89e3426b68975922920ac2502257999}


convert the input to base64 


\begin{DoxyParams}{\-Parameters}
{\em input} & the input string \\
\hline
{\em size} & of the input string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
a newly allocated string with the base64 data which should be free'd by the user 
\end{DoxyReturn}


\-Definition at line 38 of file util.\-c.

\hypertarget{util_8c_a595bb2010e077b76450c9c04e2b25e16}{\index{util.\-c@{util.\-c}!concat@{concat}}
\index{concat@{concat}!util.c@{util.\-c}}
\subsubsection[{concat}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ {\bf concat} (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{a, }
\item[{char $\ast$}]{b}
\end{DoxyParamCaption}
)}}\label{util_8c_a595bb2010e077b76450c9c04e2b25e16}
\begin{DoxyReturn}{\-Returns}
null if a or b is null, a + \char`\"{}/\char`\"{} + b otherwise 
\end{DoxyReturn}


\-Definition at line 279 of file util.\-c.

\hypertarget{util_8c_ad0e8a9673662b67246c1af0ce7e7b06c}{\index{util.\-c@{util.\-c}!get\-\_\-command\-\_\-line@{get\-\_\-command\-\_\-line}}
\index{get\-\_\-command\-\_\-line@{get\-\_\-command\-\_\-line}!util.c@{util.\-c}}
\subsubsection[{get\-\_\-command\-\_\-line}]{\setlength{\rightskip}{0pt plus 5cm}static char$\ast$ {\bf get\-\_\-command\-\_\-line} (
\begin{DoxyParamCaption}
\item[{int}]{pid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{util_8c_ad0e8a9673662b67246c1af0ce7e7b06c}


get the command line corresponding to a process 


\begin{DoxyParams}{\-Parameters}
{\em pid} & process id \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
a base64 encoded string with the process command line, or an empty string if it could not be extrcated 
\end{DoxyReturn}


\-Definition at line 80 of file util.\-c.

\hypertarget{util_8c_adb849059403e0b01c44605d63d205daa}{\index{util.\-c@{util.\-c}!get\-\_\-limit@{get\-\_\-limit}}
\index{get\-\_\-limit@{get\-\_\-limit}!util.c@{util.\-c}}
\subsubsection[{get\-\_\-limit}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf get\-\_\-limit} (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}}\label{util_8c_adb849059403e0b01c44605d63d205daa}


look for the limit \char`\"{}-\/-\/\char`\"{} in argv  argument number  arguments 

\begin{DoxyReturn}{\-Returns}
the index of the limit, argc if it is not found 
\end{DoxyReturn}


\-Definition at line 218 of file util.\-c.

\hypertarget{util_8c_a9cc3c9ae892455a66de3012f5b6fb8e0}{\index{util.\-c@{util.\-c}!set\-\_\-timestamp@{set\-\_\-timestamp}}
\index{set\-\_\-timestamp@{set\-\_\-timestamp}!util.c@{util.\-c}}
\subsubsection[{set\-\_\-timestamp}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf set\-\_\-timestamp} (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{timestamp}
\end{DoxyParamCaption}
)}}\label{util_8c_a9cc3c9ae892455a66de3012f5b6fb8e0}


get a string representing the time in \-I\-S\-O8601 format 


\begin{DoxyParams}{\-Parameters}
{\em timestamp} & string to set to the given time \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
void 
\end{DoxyReturn}


\-Definition at line 136 of file util.\-c.

